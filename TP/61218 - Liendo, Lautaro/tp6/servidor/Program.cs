using Microsoft.EntityFrameworkCore;
using System.Collections.Concurrent;
using servidor.Data;
using servidor.Models;
using servidor.DTOs;
using servidor.Helpers;
using Microsoft.AspNetCore.Http;

var constructorAppWeb = WebApplication.CreateBuilder(args);

constructorAppWeb.Services.AddDbContext<TiendaContext>(opcionesContexto =>
    opcionesContexto.UseSqlite("Data Source=tienda_ropa.db"));

constructorAppWeb.Services.AddCors(configuracionCors =>
{
    configuracionCors.AddPolicy("AccesoAppCliente", politicaCORS =>
    {
        politicaCORS.WithOrigins("http://localhost:5177", "https://localhost:7221")
                    .AllowAnyHeader()
                    .AllowAnyMethod();
    });
});

constructorAppWeb.Services.AddControllers();

var aplicacion = constructorAppWeb.Build();

aplicacion.UseCors("AccesoAppCliente");

// Habilitar archivos estáticos para que wwwroot/images funcione
aplicacion.UseStaticFiles();

using (var alcanceServicio = aplicacion.Services.CreateScope())
{
    var contextoDBInicial = alcanceServicio.ServiceProvider.GetRequiredService<TiendaContext>();
    contextoDBInicial.Database.EnsureCreated();

    if (!contextoDBInicial.InventarioArticulos.Any())
    {
        contextoDBInicial.InventarioArticulos.AddRange(
            new ArticuloInventario
            {
                Denominacion = "Remera Básica Negra",
                Caracteristicas = "Algodón 100%, cuello redondo, corte clásico. Talles S al XL.",
                ValorUnitario = 6999.99,

                CantidadDisponible = 8,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Remera Estampada Skate",
                Caracteristicas = "Diseño urbano, tela liviana, talle S al XXL.",
                ValorUnitario = 8499.50,

                CantidadDisponible = 6,

                UrlImagenArticulo = "https://http2.mlstatic.com/D_NQ_NP_650247-MLA71474712040_092023-O.webp"
            },
            new ArticuloInventario
            {
                Denominacion = "Remera Oversize Blanca",
                Caracteristicas = "Corte suelto, ideal para el verano. Talles M al XL.",
                ValorUnitario = 7590.00,

                CantidadDisponible = 4,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Remera Vintage Beige",
                Caracteristicas = "Estilo retro, tela suave. Talles XS al L.",
                ValorUnitario = 6890.00,

                CantidadDisponible = 5,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Remera Gráfica Negra",
                Caracteristicas = "Estampado frontal, algodón premium. Talles M al XL.",
                ValorUnitario = 7990.99,

                CantidadDisponible = 6,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Pantalón Jogger Gris",
                Caracteristicas = "Tejido flexible, bolsillos laterales. Talles S al XL.",
                ValorUnitario = 11499.90,

                CantidadDisponible = 4,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Pantalón Jean Azul",
                Caracteristicas = "Denim clásico, corte regular. Talles 28-40.",
                ValorUnitario = 13490.00,

                CantidadDisponible = 7,

                UrlImagenArticulo = "https://acdn-us.mitiendanube.com/stores/943/997/products/jean-azul-oscuro-c8257365bc9539b07617337672702497-1024-1024.jpg"
            },
            new ArticuloInventario
            {
                Denominacion = "Pantalón Cargo Verde",
                Caracteristicas = "Estilo militar, varios bolsillos. Talles S al XXL.",
                ValorUnitario = 11990.00,

                CantidadDisponible = 3,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Pantalón Chino Negro",
                Caracteristicas = "Formal e informal, sarga stretch. Talles 30-42.",
                ValorUnitario = 12750.50,

                CantidadDisponible = 5,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            },
            new ArticuloInventario
            {
                Denominacion = "Pantalón Deportivo Azul",
                Caracteristicas = "Cintura con elástico, ideal para entrenar. Talles S-L.",
                ValorUnitario = 10990.00,

                CantidadDisponible = 4,

                UrlImagenArticulo = "data:image/jpeg;base64,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"
            }
        );
        contextoDBInicial.SaveChanges();
    }
}

var sesionesDeComprarArticulos = new ConcurrentDictionary<string, List<DetalleCarritoMemoria>>();

aplicacion.MapGet("/", () => Results.Ok(new { MensajeServicio = "API de Tienda de Ropa Activa", HoraDelSistema = DateTime.Now }));

aplicacion.MapGet("/productos", async (TiendaContext gestorDB) =>
    await gestorDB.InventarioArticulos.ToListAsync()
);

aplicacion.MapGet("/productos/buscar/{textoConsulta}", async (TiendaContext gestorDB, string textoConsulta) =>
{
    try
    {
        Console.WriteLine($"[BUSQUEDA] Buscando artículos con: {textoConsulta}");

        var consultaArticulos = gestorDB.InventarioArticulos.AsQueryable();

        if (!string.IsNullOrWhiteSpace(textoConsulta))
        {
            var textoNormalizado = textoConsulta.ToLowerInvariant();


            consultaArticulos = consultaArticulos.Where(item =>
                (!string.IsNullOrEmpty(item.Denominacion) && item.Denominacion.ToLower().Contains(textoNormalizado)) ||
                (!string.IsNullOrEmpty(item.Caracteristicas) && item.Caracteristicas.ToLower().Contains(textoNormalizado))
            );
        }

        var resultado = await consultaArticulos.ToListAsync();


        Console.WriteLine($"[BUSQUEDA] Se encontraron {resultado.Count} artículos.");

        return Results.Ok(resultado);
    }
    catch (Exception ex)
    {
        Console.WriteLine($"[ERROR BUSQUEDA] {ex.Message}\n{ex.StackTrace}");

        return Results.Problem(
            title: "Error interno al buscar productos",
            detail: ex.Message,
            statusCode: 500
        );
    }
});

aplicacion.MapPost("/carritos", () =>
{
    var idGeneradoParaCarrito = Guid.NewGuid().ToString();
    sesionesDeComprarArticulos[idGeneradoParaCarrito] = new List<DetalleCarritoMemoria>();
    return Results.Ok(new { identificadorNuevoCarrito = idGeneradoParaCarrito });
});

aplicacion.MapGet("/carritos/{identificadorCarrito}", (string identificadorCarrito) =>
{
    if (!sesionesDeComprarArticulos.TryGetValue(identificadorCarrito, out var elementosEnCarrito))
        return Results.NotFound("Identificador de carrito no válido o inexistente.");

    return Results.Ok(elementosEnCarrito);
});

aplicacion.MapDelete("/carritos/{idCarritoAVaciar}", async (string idCarritoAVaciar, TiendaContext gestorDB) =>
{
    if (!sesionesDeComprarArticulos.TryGetValue(idCarritoAVaciar, out var carrito))
        return Results.NotFound("Carrito no encontrado para vaciar.");

    foreach (var item in carrito)
    {
        var articulo = await gestorDB.InventarioArticulos.FindAsync(item.ArticuloId);
        if (articulo != null)
        {
            articulo.CantidadDisponible += item.Unidades;
        }
    }
    await gestorDB.SaveChangesAsync();

    sesionesDeComprarArticulos[idCarritoAVaciar] = new List<DetalleCarritoMemoria>();
    return Results.Ok();
});


aplicacion.MapPut("/carritos/{idCarrito}/anadir/{idArticulo}", async (
    string idCarrito, int idArticulo, int cantidadSolicitada, TiendaContext gestorDB) =>
{
    if (cantidadSolicitada <= 0)
        return Results.BadRequest(new { error = "La cantidad debe ser mayor que cero." });

    var articulo = await gestorDB.InventarioArticulos.FindAsync(idArticulo);
    if (articulo == null)
        return Results.NotFound(new { error = "Artículo no encontrado." });

    var itemsDelCarrito = sesionesDeComprarArticulos.GetOrAdd(idCarrito, _ => new List<DetalleCarritoMemoria>());
    var itemExistente = itemsDelCarrito.FirstOrDefault(i => i.ArticuloId == idArticulo);

    int cantidadYaReservada = itemExistente?.Unidades ?? 0;
    int stockTotalDisponible = articulo.CantidadDisponible + cantidadYaReservada;

    if (cantidadSolicitada > stockTotalDisponible)
    {
        return Results.BadRequest(new
        {
            error = $"Stock insuficiente para '{articulo.Denominacion}'. Stock disponible: {stockTotalDisponible}"
        });
    }

    // Actualizar stock
    articulo.CantidadDisponible = stockTotalDisponible - cantidadSolicitada;
    await gestorDB.SaveChangesAsync();

    if (itemExistente == null)

    {
        itemsDelCarrito.Add(new DetalleCarritoMemoria
        {
            ArticuloId = idArticulo,
            Unidades = cantidadSolicitada,

            ValorPorUnidad = articulo.ValorUnitario

        });
    }
    else
    {

        itemExistente.Unidades = cantidadSolicitada;

    }

    return Results.Ok(itemsDelCarrito);
});




aplicacion.MapDelete("/carritos/{idCarrito}/remover/{idArticulo}", async (string idCarrito, int idArticulo, int cantidadAReducir, TiendaContext gestorDB) =>
{
    if (!sesionesDeComprarArticulos.TryGetValue(idCarrito, out var itemsDelCarrito))
        return Results.NotFound("Identificador de carrito no válido.");


    var itemParaGestionar = itemsDelCarrito.FirstOrDefault(i => i.ArticuloId == idArticulo);
    if (itemParaGestionar == null)
        return Results.NotFound("Artículo no encontrado en este carrito.");

    int cantidadAReducirReal = cantidadAReducir <= 0 ? itemParaGestionar.Unidades : cantidadAReducir;
    if (cantidadAReducirReal > itemParaGestionar.Unidades)
        cantidadAReducirReal = itemParaGestionar.Unidades;

    var articulo = await gestorDB.InventarioArticulos.FindAsync(idArticulo);
    if (articulo == null)
        return Results.NotFound("Artículo no encontrado en inventario.");

    articulo.CantidadDisponible += cantidadAReducirReal;
    await gestorDB.SaveChangesAsync();


    if (cantidadAReducirReal == itemParaGestionar.Unidades)
    {
        itemsDelCarrito.Remove(itemParaGestionar);
    }
    else
    {
        itemParaGestionar.Unidades -= cantidadAReducirReal;
    }

    return Results.Ok(itemsDelCarrito);
});

aplicacion.MapPut("/carritos/{idCarrito}/confirmar", async (string idCarrito, DatosClienteDTO infoComprador, TiendaContext gestorDB) =>
{
    if (!ValidacionUtil.EsDatosClienteValidos(infoComprador))
    {
        return Results.BadRequest(new { error = "Datos del cliente incompletos. Se requieren Nombre, Apellido y Correo Electrónico." });
    }

    if (!sesionesDeComprarArticulos.TryGetValue(idCarrito, out var elementosParaConfirmar))
        return Results.BadRequest(new { error = "El identificador del carrito proporcionado no existe o es inválido." });

    if (elementosParaConfirmar.Count == 0)
        return Results.BadRequest(new { error = "El carrito está vacío, no se puede finalizar la compra." });

    foreach (var detalleActual in elementosParaConfirmar)
    {
        var articuloEnStock = await gestorDB.InventarioArticulos.FindAsync(detalleActual.ArticuloId);
        if (articuloEnStock == null)
            return Results.BadRequest(new { error = $"Artículo con ID {detalleActual.ArticuloId} no encontrado en el inventario." });
    }

    double totalTransaccion = 0;
    var nuevoRegistroCompra = new RegistroCompra
    {
        FechaRealizacion = DateTime.Now,
        NombreCliente = infoComprador.NombreSolicitante,
        ApellidoCliente = infoComprador.ApellidoSolicitante,
        EmailCliente = infoComprador.CorreoElectronicoContacto,
        Detalles = new List<DetalleCompra>()
    };

    foreach (var itemAProcesar in elementosParaConfirmar)
    {
        var articuloParaRegistro = await gestorDB.InventarioArticulos.FindAsync(itemAProcesar.ArticuloId);

        nuevoRegistroCompra.Detalles.Add(new DetalleCompra
        {
            ArticuloInventarioId = articuloParaRegistro.Id,
            CantidadAdquirida = itemAProcesar.Unidades,
            PrecioUnitarioAlMomento = articuloParaRegistro.ValorUnitario
        });

        totalTransaccion += articuloParaRegistro.ValorUnitario * itemAProcesar.Unidades;
    }
    nuevoRegistroCompra.MontoTotal = totalTransaccion;
    gestorDB.HistorialCompras.Add(nuevoRegistroCompra);
    await gestorDB.SaveChangesAsync();

    sesionesDeComprarArticulos[idCarrito] = new List<DetalleCarritoMemoria>();

    return Results.Ok(new { ID_ConfirmacionCompra = nuevoRegistroCompra.Id, ValorFinalCompra = nuevoRegistroCompra.MontoTotal });
});

aplicacion.Run();

public class DetalleCarritoMemoria
{
    public int ArticuloId { get; set; }
    public int Unidades { get; set; }
    public double ValorPorUnidad { get; set; }
}
